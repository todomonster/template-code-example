<!DOCTYPE html>
<html>
<!-- https://www.w3schools.com/TAGS/att_a_download.asp -->
<head>
  <title>文件下载示例</title>
</head>

<body>
  會根據瀏覽器有不同行為 ex: edge txt, jpg 檔案會直接開啟<br />
  <a href="#" id="download-link">点击此处下载文件</a>

  <br />
  <h1>The a download attribute</h1>

  <p>Click on the image to download it:
  <p>
    <a href="https://www.w3schools.com/images/myw3schoolsimage.jpg" download>
      <img src="https://www.w3schools.com/images/myw3schoolsimage.jpg" alt="W3Schools" width="104" height="142">
    </a>

  <p><b>Note:</b> The download attribute is not supported in IE or Edge (prior version 18), or in Safari (prior version
    10.1).</p>

  <script>
    // 获取下载链接元素
    const downloadLink = document.getElementById("download-link");

    // 设置要下载的文件的URL
    //       // 如果是文字檔案會被瀏覽器打開
    const fileUrl =
      "https://www.w3schools.com/images/myw3schoolsimage.jpg";

    // 当用户点击下载链接时触发的事件
    downloadLink.addEventListener("click", function (e) {
      // 阻止默认的链接点击行为
      e.preventDefault();

      // 创建一个虚拟的链接元素
      const virtualLink = document.createElement("a");
      virtualLink.href = fileUrl;
      virtualLink.setAttribute("download", "myw3schoolsimage.jpg"); // 设置要下载的文件名
      virtualLink.style.display = "none";

      // 将虚拟链接元素添加到文档中
      document.body.appendChild(virtualLink);

      // 模拟用户点击虚拟链接，触发下载
      virtualLink.click();

      // 从文档中移除虚拟链接元素
      document.body.removeChild(virtualLink);
    });
  </script>
</body>

</html>